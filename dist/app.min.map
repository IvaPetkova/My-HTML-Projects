{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/handlebars/dist/cjs/handlebars.runtime.js","node_modules/handlebars/dist/cjs/handlebars/base.js","node_modules/handlebars/dist/cjs/handlebars/decorators.js","node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js","node_modules/handlebars/dist/cjs/handlebars/exception.js","node_modules/handlebars/dist/cjs/handlebars/helpers.js","node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js","node_modules/handlebars/dist/cjs/handlebars/helpers/each.js","node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js","node_modules/handlebars/dist/cjs/handlebars/helpers/if.js","node_modules/handlebars/dist/cjs/handlebars/helpers/log.js","node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js","node_modules/handlebars/dist/cjs/handlebars/helpers/with.js","node_modules/handlebars/dist/cjs/handlebars/logger.js","node_modules/handlebars/dist/cjs/handlebars/no-conflict.js","node_modules/handlebars/dist/cjs/handlebars/runtime.js","node_modules/handlebars/dist/cjs/handlebars/safe-string.js","node_modules/handlebars/dist/cjs/handlebars/utils.js","node_modules/handlebars/runtime.js","node_modules/hbsfy/runtime.js","src/js/App.js","src/js/main.js","src/js/pages/search.js","src/views/index.hbs","src/views/pages/Search.hbs"],"names":["create","hb","base","HandlebarsEnvironment","Utils","extend","SafeString","_handlebarsSafeString2","Exception","_handlebarsException2","escapeExpression","VM","runtime","template","spec","_interopRequireWildcard","_handlebarsBase","_handlebarsUtils","_handlebarsRuntime","inst","_handlebarsNoConflict2","helpers","partials","decorators","this","_helpers","registerDefaultHelpers","_decorators","registerDefaultDecorators","VERSION","COMPILER_REVISION","REVISION_CHANGES","1","2","3","4","5","6","7","objectType","prototype","constructor","logger","_logger2","log","registerHelper","name","fn","_utils","toString","call","_exception2","unregisterHelper","registerPartial","partial","unregisterPartial","registerDecorator","unregisterDecorator","createFrame","instance","_decoratorsInline2","props","container","options","ret","context","original","args","message","node","loc","line","undefined","column","start","tmp","Error","idx","errorProps","length","captureStackTrace","lineNumber","Object","defineProperty","value","enumerable","nop","_helpersBlockHelperMissing2","_helpersEach2","_helpersHelperMissing2","_helpersIf2","_helpersLog2","_helpersLookup2","_helpersWith2","inverse","isArray","ids","each","data","contextPath","appendContextPath","execIteration","field","index","last","key","first","blockParams","i","isFunction","j","priorKey","hasOwnProperty","arguments","conditional","hash","includeZero","isEmpty","push","level","apply","obj","methodMap","lookupLevel","levelMap","indexOf","toLowerCase","parseInt","console","method","Array","_len","_key","Handlebars","root","global","window","$Handlebars","noConflict","checkRevision","compilerInfo","compilerRevision","currentRevision","_base","runtimeVersions","compilerVersions","templateSpec","env","invokePartialWrapper","resolvePartial","result","invokePartial","compile","compilerOptions","indent","lines","split","l","join","main","depths","_setup","useData","initData","useBlockParams","useDepths","concat","executeDecorators","decorator","main_d","compiler","strict","lookup","len","lambda","current","programs","program","declaredBlockParams","programWrapper","wrapProgram","depth","_parent","merge","param","common","nullContext","seal","noop","isTop","usePartial","useDecorators","_child","prog","currentDepths","currentPartialBlock","partialBlock","Function","string","toHTML","escapeChar","chr","escape","array","possible","test","replace","badChars","object","frame","params","path","id","&","<",">","\"","'","`","=","exports","module","require","Search","App","_render","html","document","querySelector","innerHTML","search","appendChild","SearchComponent","createElement","className","render","HandlebarsCompiler","depth0","helper","disabled","helperMissing"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import * as base from './handlebars/base';\n\n// Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\nimport SafeString from './handlebars/safe-string';\nimport Exception from './handlebars/exception';\nimport * as Utils from './handlebars/utils';\nimport * as runtime from './handlebars/runtime';\n\nimport noConflict from './handlebars/no-conflict';\n\n// For compatibility and usage outside of module systems, make the Handlebars object a namespace\nfunction create() {\n  let hb = new base.HandlebarsEnvironment();\n\n  Utils.extend(hb, base);\n  hb.SafeString = SafeString;\n  hb.Exception = Exception;\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n\n  hb.VM = runtime;\n  hb.template = function(spec) {\n    return runtime.template(spec, hb);\n  };\n\n  return hb;\n}\n\nlet inst = create();\ninst.create = create;\n\nnoConflict(inst);\n\ninst['default'] = inst;\n\nexport default inst;\n","import {createFrame, extend, toString} from './utils';\nimport Exception from './exception';\nimport {registerDefaultHelpers} from './helpers';\nimport {registerDefaultDecorators} from './decorators';\nimport logger from './logger';\n\nexport const VERSION = '4.0.10';\nexport const COMPILER_REVISION = 7;\n\nexport const REVISION_CHANGES = {\n  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0'\n};\n\nconst objectType = '[object Object]';\n\nexport function HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  registerDefaultHelpers(this);\n  registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n\n  logger: logger,\n  log: logger.log,\n\n  registerHelper: function(name, fn) {\n    if (toString.call(name) === objectType) {\n      if (fn) { throw new Exception('Arg not supported with multiple helpers'); }\n      extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function(name) {\n    delete this.helpers[name];\n  },\n\n  registerPartial: function(name, partial) {\n    if (toString.call(name) === objectType) {\n      extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new Exception(`Attempting to register a partial called \"${name}\" as undefined`);\n      }\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function(name) {\n    delete this.partials[name];\n  },\n\n  registerDecorator: function(name, fn) {\n    if (toString.call(name) === objectType) {\n      if (fn) { throw new Exception('Arg not supported with multiple decorators'); }\n      extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function(name) {\n    delete this.decorators[name];\n  }\n};\n\nexport let log = logger.log;\n\nexport {createFrame, logger};\n","import registerInline from './decorators/inline';\n\nexport function registerDefaultDecorators(instance) {\n  registerInline(instance);\n}\n\n","import {extend} from '../utils';\n\nexport default function(instance) {\n  instance.registerDecorator('inline', function(fn, props, container, options) {\n    let ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function(context, options) {\n        // Create a new partials stack frame prior to exec.\n        let original = container.partials;\n        container.partials = extend({}, original, props.partials);\n        let ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  });\n}\n","\nconst errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\n\nfunction Exception(message, node) {\n  let loc = node && node.loc,\n      line,\n      column;\n  if (loc) {\n    line = loc.start.line;\n    column = loc.start.column;\n\n    message += ' - ' + line + ':' + column;\n  }\n\n  let tmp = Error.prototype.constructor.call(this, message);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n  for (let idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n\n  /* istanbul ignore else */\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n\n      // Work around issue under safari where we can't directly set the column value\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\n\nexport default Exception;\n","import registerBlockHelperMissing from './helpers/block-helper-missing';\nimport registerEach from './helpers/each';\nimport registerHelperMissing from './helpers/helper-missing';\nimport registerIf from './helpers/if';\nimport registerLog from './helpers/log';\nimport registerLookup from './helpers/lookup';\nimport registerWith from './helpers/with';\n\nexport function registerDefaultHelpers(instance) {\n  registerBlockHelperMissing(instance);\n  registerEach(instance);\n  registerHelperMissing(instance);\n  registerIf(instance);\n  registerLog(instance);\n  registerLookup(instance);\n  registerWith(instance);\n}\n","import {appendContextPath, createFrame, isArray} from '../utils';\n\nexport default function(instance) {\n  instance.registerHelper('blockHelperMissing', function(context, options) {\n    let inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        let data = createFrame(options.data);\n        data.contextPath = appendContextPath(options.data.contextPath, options.name);\n        options = {data: data};\n      }\n\n      return fn(context, options);\n    }\n  });\n}\n","import {appendContextPath, blockParams, createFrame, isArray, isFunction} from '../utils';\nimport Exception from '../exception';\n\nexport default function(instance) {\n  instance.registerHelper('each', function(context, options) {\n    if (!options) {\n      throw new Exception('Must pass iterator to #each');\n    }\n\n    let fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data,\n        contextPath;\n\n    if (options.data && options.ids) {\n      contextPath = appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (isFunction(context)) { context = context.call(this); }\n\n    if (options.data) {\n      data = createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (isArray(context)) {\n        for (let j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else {\n        let priorKey;\n\n        for (let key in context) {\n          if (context.hasOwnProperty(key)) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          }\n        }\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n}\n","import Exception from '../exception';\n\nexport default function(instance) {\n  instance.registerHelper('helperMissing', function(/* [args, ]options */) {\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new Exception('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  });\n}\n","import {isEmpty, isFunction} from '../utils';\n\nexport default function(instance) {\n  instance.registerHelper('if', function(conditional, options) {\n    if (isFunction(conditional)) { conditional = conditional.call(this); }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if ((!options.hash.includeZero && !conditional) || isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n\n  instance.registerHelper('unless', function(conditional, options) {\n    return instance.helpers['if'].call(this, conditional, {fn: options.inverse, inverse: options.fn, hash: options.hash});\n  });\n}\n","export default function(instance) {\n  instance.registerHelper('log', function(/* message, options */) {\n    let args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (let i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    let level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log(... args);\n  });\n}\n","export default function(instance) {\n  instance.registerHelper('lookup', function(obj, field) {\n    return obj && obj[field];\n  });\n}\n","import {appendContextPath, blockParams, createFrame, isEmpty, isFunction} from '../utils';\n\nexport default function(instance) {\n  instance.registerHelper('with', function(context, options) {\n    if (isFunction(context)) { context = context.call(this); }\n\n    let fn = options.fn;\n\n    if (!isEmpty(context)) {\n      let data = options.data;\n      if (options.data && options.ids) {\n        data = createFrame(options.data);\n        data.contextPath = appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n}\n","import {indexOf} from './utils';\n\nlet logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function(level) {\n    if (typeof level === 'string') {\n      let levelMap = indexOf(logger.methodMap, level.toLowerCase());\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n\n  // Can be overridden in the host environment\n  log: function(level, ...message) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n      let method = logger.methodMap[level];\n      if (!console[method]) {   // eslint-disable-line no-console\n        method = 'log';\n      }\n      console[method](...message);    // eslint-disable-line no-console\n    }\n  }\n};\n\nexport default logger;\n","/* global window */\nexport default function(Handlebars) {\n  /* istanbul ignore next */\n  let root = typeof global !== 'undefined' ? global : window,\n      $Handlebars = root.Handlebars;\n  /* istanbul ignore next */\n  Handlebars.noConflict = function() {\n    if (root.Handlebars === Handlebars) {\n      root.Handlebars = $Handlebars;\n    }\n    return Handlebars;\n  };\n}\n","import * as Utils from './utils';\nimport Exception from './exception';\nimport { COMPILER_REVISION, REVISION_CHANGES, createFrame } from './base';\n\nexport function checkRevision(compilerInfo) {\n  const compilerRevision = compilerInfo && compilerInfo[0] || 1,\n        currentRevision = COMPILER_REVISION;\n\n  if (compilerRevision !== currentRevision) {\n    if (compilerRevision < currentRevision) {\n      const runtimeVersions = REVISION_CHANGES[currentRevision],\n            compilerVersions = REVISION_CHANGES[compilerRevision];\n      throw new Exception('Template was precompiled with an older version of Handlebars than the current runtime. ' +\n            'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n    } else {\n      // Use the embedded version info since the runtime doesn't know about this revision yet\n      throw new Exception('Template was precompiled with a newer version of Handlebars than the current runtime. ' +\n            'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n    }\n  }\n}\n\nexport function template(templateSpec, env) {\n  /* istanbul ignore next */\n  if (!env) {\n    throw new Exception('No environment passed to template');\n  }\n  if (!templateSpec || !templateSpec.main) {\n    throw new Exception('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d;\n\n  // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as psuedo-supported APIs.\n  env.VM.checkRevision(templateSpec.compiler);\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n    let result = env.VM.invokePartial.call(this, partial, context, options);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, options);\n    }\n    if (result != null) {\n      if (options.indent) {\n        let lines = result.split('\\n');\n        for (let i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n        result = lines.join('\\n');\n      }\n      return result;\n    } else {\n      throw new Exception('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n    }\n  }\n\n  // Just add water\n  let container = {\n    strict: function(obj, name) {\n      if (!(name in obj)) {\n        throw new Exception('\"' + name + '\" not defined in ' + obj);\n      }\n      return obj[name];\n    },\n    lookup: function(depths, name) {\n      const len = depths.length;\n      for (let i = 0; i < len; i++) {\n        if (depths[i] && depths[i][name] != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n\n    fn: function(i) {\n      let ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n\n    programs: [],\n    program: function(i, data, declaredBlockParams, blockParams, depths) {\n      let programWrapper = this.programs[i],\n          fn = this.fn(i);\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n      return programWrapper;\n    },\n\n    data: function(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n      return value;\n    },\n    merge: function(param, common) {\n      let obj = param || common;\n\n      if (param && common && (param !== common)) {\n        obj = Utils.extend({}, common, param);\n      }\n\n      return obj;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context, options = {}) {\n    let data = options.data;\n\n    ret._setup(options);\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n    let depths,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context/*, options*/) {\n      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n  ret.isTop = true;\n\n  ret._setup = function(options) {\n    if (!options.partial) {\n      container.helpers = container.merge(options.helpers, env.helpers);\n\n      if (templateSpec.usePartial) {\n        container.partials = container.merge(options.partials, env.partials);\n      }\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = container.merge(options.decorators, env.decorators);\n      }\n    } else {\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n    }\n  };\n\n  ret._child = function(i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new Exception('must pass block params');\n    }\n    if (templateSpec.useDepths && !depths) {\n      throw new Exception('must pass parent depths');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n  return ret;\n}\n\nexport function wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context, options = {}) {\n    let currentDepths = depths;\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container,\n        context,\n        container.helpers, container.partials,\n        options.data || data,\n        blockParams && [options.blockParams].concat(blockParams),\n        currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n\nexport function resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n  return partial;\n}\n\nexport function invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  const currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  let partialBlock;\n  if (options.fn && options.fn !== noop) {\n    options.data = createFrame(options.data);\n    // Wrapper function to get access to currentPartialBlock from the closure\n    let fn = options.fn;\n    partialBlock = options.data['partial-block'] = function partialBlockWrapper(context, options = {}) {\n\n      // Restore the partial-block from the closure for the execution of the block\n      // i.e. the part inside the block of the partial call.\n      options.data = createFrame(options.data);\n      options.data['partial-block'] = currentPartialBlock;\n      return fn(context, options);\n    };\n    if (fn.partials) {\n      options.partials = Utils.extend({}, options.partials, fn.partials);\n    }\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new Exception('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nexport function noop() { return ''; }\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? createFrame(data) : {};\n    data.root = context;\n  }\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    let props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n  return prog;\n}\n","// Build out our basic SafeString type\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function() {\n  return '' + this.string;\n};\n\nexport default SafeString;\n","const escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\n\nconst badChars = /[&<>\"'`=]/g,\n      possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nexport function extend(obj/* , ...source */) {\n  for (let i = 1; i < arguments.length; i++) {\n    for (let key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nexport let toString = Object.prototype.toString;\n\n// Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n/* eslint-disable func-style */\nlet isFunction = function(value) {\n  return typeof value === 'function';\n};\n// fallback for older versions of Chrome and Safari\n/* istanbul ignore next */\nif (isFunction(/x/)) {\n  isFunction = function(value) {\n    return typeof value === 'function' && toString.call(value) === '[object Function]';\n  };\n}\nexport {isFunction};\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\nexport const isArray = Array.isArray || function(value) {\n  return (value && typeof value === 'object') ? toString.call(value) === '[object Array]' : false;\n};\n\n// Older IE versions do not directly support indexOf so we must implement our own, sadly.\nexport function indexOf(array, value) {\n  for (let i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\n\nexport function escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) { return string; }\n  return string.replace(badChars, escapeChar);\n}\n\nexport function isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport function createFrame(object) {\n  let frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nexport function blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nexport function appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n","// Create a simple path alias to allow browserify to resolve\n// the runtime on a supported path.\nmodule.exports = require('./dist/cjs/handlebars.runtime')['default'];\n","module.exports = require(\"handlebars/runtime\")[\"default\"];\n","'use strict';\n\nconst template = require('../../src/views/index.hbs');\nconst Search = require('./pages/search.js');\n\nclass App {\n\n\tconstructor() {\n\t\tthis._render();\n\t}\n\n\t_render() {\n\t\tlet html = template();\n\t\tlet container = document.querySelector('.app-container');\n\t\t\tcontainer.innerHTML = html;\n\n\t\tlet search = new Search();\n\t\tcontainer.querySelector('.app-component').appendChild(search.container);\n\n\t}\n}\n\nmodule.exports = App;\n","window.App = require('./App.js');\n","'use strict';\n\nconst template = require('../../views/pages/Search.hbs');\n\nclass SearchComponent {\n\n\tconstructor() {\n\t\tthis.container = document.createElement('div');\n\t\tthis.container.className = 'search-container';\n\t\tthis.render();\n\t}\n\n\trender() {\n\t\tthis.container.innerHTML = template();\n\t}\n\n}\n\nmodule.exports = SearchComponent;\n","// hbsfy compiled Handlebars template\nvar HandlebarsCompiler = require('hbsfy/runtime');\nmodule.exports = HandlebarsCompiler.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"app-component\\\">\\n</div>\\n\";\n},\"useData\":true});\n","// hbsfy compiled Handlebars template\nvar HandlebarsCompiler = require('hbsfy/runtime');\nmodule.exports = HandlebarsCompiler.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\t<div class=\\\"search\\\">\\r\\n\t\t<input type=\\\"text\\\" class=\\\"message\\\" placeholder=\\\"Location..\\\">\\r\\n\t</div>\\r\\n\\r\\n\t<div class=\\\"btn\\\" class=\\\"btn\\\" onclick=\\\"search();\\\" \"\n    + container.escapeExpression(((helper = (helper = helpers.disabled || (depth0 != null ? depth0.disabled : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"disabled\",\"hash\":{},\"data\":data}) : helper)))\n    + \">\\r\\n\t\t<span>Search</span>\\r\\n\t</div>\\r\\n\";\n},\"useData\":true});\n"]}